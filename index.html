<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Load Files from GitHub</title>
</head>
<body>
  <h2>Danh sách ảnh</h2>
  <div id="image-list"></div>

<script>
async function loadFiles(path, containerId) {
    const owner = "tientai15468";
    const repo = "tainguyen";
    const branch = "main"; // QUAN TRỌNG

    const url = `https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`;

    const res = await fetch(url);
    const files = await res.json();

    // Nếu trả về lỗi thì dừng
    if (!Array.isArray(files)) {
        console.error("API error:", files);
        return;
    }

    const container = document.getElementById(containerId);

    files.forEach(file => {
        if (file.type === "file") {
            const img = document.createElement("img");
            img.src = file.download_url;
            img.style.width = "150px";
            img.style.margin = "10px";
            container.appendChild(img);
        }
    });
}

loadFiles("image", "image-list");
</script>

</body>
</html>
